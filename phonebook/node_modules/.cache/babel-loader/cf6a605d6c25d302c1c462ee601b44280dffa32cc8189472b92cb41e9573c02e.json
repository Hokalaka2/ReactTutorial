{"ast":null,"code":"var _jsxFileName = \"/Users/otismilliken/Educational/Coding/ReactTutorial/phonebook/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/person';\nimport ErrorNotification from './components/ErrorNotification';\nimport SuccessNotification from './components/SuccessNotification';\nimport DisplayNumbers from './components/DisplayNumbers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newSearch, setNewSearch] = useState('');\n  const [errornotification, setErrorNotification] = useState(null);\n  const [successnotification, setSuccessNotification] = useState(null);\n  useEffect(() => {\n    personService.getAll().then(initialEntries => {\n      setPersons(initialEntries);\n    });\n  }, []);\n  const addName = event => {\n    event.preventDefault();\n    if (!persons.find(person => person.name === newName)) {\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      };\n      personService.create(nameObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setSuccessNotification(`Added ${newName}`);\n        setNewName('');\n        setNewNumber('');\n        setTimeout(() => {\n          setSuccessNotification(null);\n        }, 3000);\n      });\n    } else {\n      const findPerson = persons.find(person => person.name === newName);\n      if (window.confirm(`${newName} is already added to phonebook, replace old number?`)) {\n        const changedPerson = {\n          ...findPerson,\n          number: newNumber\n        };\n        personService.update(changedPerson.id, changedPerson).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson));\n        }).catch(error => {\n          setErrorNotification(`Information of '${findPerson.name} was already removed from server`);\n          setTimeout(() => {\n            setErrorNotification(null);\n          }, 3000);\n        });\n      }\n    }\n  };\n  const deletePerson = id => {\n    if (window.confirm(`Are you sure you want to delete ${persons[id].name}`)) {\n      personService.deletePerson(id).then(() => {\n        setPersons(persons.filter(n => n.id !== id));\n      });\n    }\n  };\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n  const handleSearchChange = event => {\n    setNewSearch(event.target.value);\n  };\n  const personsToShow = newSearch.length > 0 ? persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase())) : persons;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ErrorNotification, {\n      message: errornotification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SuccessNotification, {\n      message: successnotification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      value: newSearch,\n      onChange: handleSearchChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Add New\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      formSubmit: addName,\n      nameValue: newName,\n      handleNameChange: handleNameChange,\n      numberValue: newNumber,\n      handleNumberChange: handleNumberChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: personsToShow.map(person => /*#__PURE__*/_jsxDEV(DisplayNumbers, {\n        person: person,\n        deletePerson: () => deletePerson(person.id)\n      }, person.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 36\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"3yRBSpwVs3lU+kC/MAsVS/XeMw0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Filter","PersonForm","personService","ErrorNotification","SuccessNotification","DisplayNumbers","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","errornotification","setErrorNotification","successnotification","setSuccessNotification","getAll","then","initialEntries","addName","event","preventDefault","find","person","name","nameObject","number","id","length","create","returnedPerson","concat","setTimeout","findPerson","window","confirm","changedPerson","update","map","catch","error","deletePerson","filter","n","handleNameChange","target","value","handleNumberChange","handleSearchChange","personsToShow","toLowerCase","includes"],"sources":["/Users/otismilliken/Educational/Coding/ReactTutorial/phonebook/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/person'\nimport ErrorNotification from './components/ErrorNotification'\nimport SuccessNotification from './components/SuccessNotification'\nimport DisplayNumbers from './components/DisplayNumbers'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [errornotification, setErrorNotification] = useState(null)\n  const [successnotification, setSuccessNotification] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialEntries => {\n        setPersons(initialEntries)\n      })\n  }, [])\n  \n  const addName = (event) => {\n    event.preventDefault()\n    if(!persons.find(person => person.name === newName)){\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      }\n\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setSuccessNotification(`Added ${newName}`)\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setSuccessNotification(null)\n          }, 3000)\n        })\n      \n    }\n    else{\n      const findPerson = persons.find(person => person.name === newName)\n      if(window.confirm(`${newName} is already added to phonebook, replace old number?`)) {\n        const changedPerson = { ...findPerson, number: newNumber}\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n          })\n          .catch(error => {\n            setErrorNotification(\n              `Information of '${findPerson.name} was already removed from server`\n            )\n            setTimeout(() => {\n              setErrorNotification(null)\n            }, 3000)\n          })\n      }\n    }\n  }\n\n  const deletePerson = (id) => {\n    if(window.confirm(`Are you sure you want to delete ${persons[id].name}`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(n => n.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const personsToShow = newSearch.length > 0\n      ? persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n      : persons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errornotification} />\n      <SuccessNotification message={successnotification} />\n      <Filter value={newSearch} onChange = {handleSearchChange}/>\n      \n      <h3>Add New</h3>\n      <PersonForm \n        formSubmit = {addName} \n        nameValue = {newName} \n        handleNameChange={handleNameChange} \n        numberValue={newNumber} \n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <ul>\n      {personsToShow.map(person => <DisplayNumbers \n        key={person.id}\n        person={person}\n        deletePerson={() => deletePerson(person.id)}\n        />)}\n      </ul>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,aAAa,MAAM,mBAAmB;AAC7C,OAAOC,iBAAiB,MAAM,gCAAgC;AAC9D,OAAOC,mBAAmB,MAAM,kCAAkC;AAClE,OAAOC,cAAc,MAAM,6BAA6B;AAAA;AAExD,MAAMC,GAAG,GAAG,MAAM;EAAA;EAChB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACgB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAM,CAACkB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAEpED,SAAS,CAAC,MAAM;IACdI,aAAa,CACViB,MAAM,EAAE,CACRC,IAAI,CAACC,cAAc,IAAI;MACtBb,UAAU,CAACa,cAAc,CAAC;IAC5B,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,OAAO,GAAIC,KAAK,IAAK;IACzBA,KAAK,CAACC,cAAc,EAAE;IACtB,IAAG,CAACjB,OAAO,CAACkB,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,KAAKlB,OAAO,CAAC,EAAC;MAClD,MAAMmB,UAAU,GAAG;QACjBD,IAAI,EAAElB,OAAO;QACboB,MAAM,EAAElB,SAAS;QACjBmB,EAAE,EAAEvB,OAAO,CAACwB,MAAM,GAAG;MACvB,CAAC;MAED7B,aAAa,CACV8B,MAAM,CAACJ,UAAU,CAAC,CAClBR,IAAI,CAACa,cAAc,IAAI;QACtBzB,UAAU,CAACD,OAAO,CAAC2B,MAAM,CAACD,cAAc,CAAC,CAAC;QAC1Cf,sBAAsB,CAAE,SAAQT,OAAQ,EAAC,CAAC;QAC1CC,UAAU,CAAC,EAAE,CAAC;QACdE,YAAY,CAAC,EAAE,CAAC;QAChBuB,UAAU,CAAC,MAAM;UACfjB,sBAAsB,CAAC,IAAI,CAAC;QAC9B,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,CAAC;IAEN,CAAC,MACG;MACF,MAAMkB,UAAU,GAAG7B,OAAO,CAACkB,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,KAAKlB,OAAO,CAAC;MAClE,IAAG4B,MAAM,CAACC,OAAO,CAAE,GAAE7B,OAAQ,qDAAoD,CAAC,EAAE;QAClF,MAAM8B,aAAa,GAAG;UAAE,GAAGH,UAAU;UAAEP,MAAM,EAAElB;QAAS,CAAC;QACzDT,aAAa,CACVsC,MAAM,CAACD,aAAa,CAACT,EAAE,EAAES,aAAa,CAAC,CACvCnB,IAAI,CAACa,cAAc,IAAI;UACtBzB,UAAU,CAACD,OAAO,CAACkC,GAAG,CAACf,MAAM,IAAIA,MAAM,CAACI,EAAE,KAAKS,aAAa,CAACT,EAAE,GAAGJ,MAAM,GAAGO,cAAc,CAAC,CAAC;QAC7F,CAAC,CAAC,CACDS,KAAK,CAACC,KAAK,IAAI;UACd3B,oBAAoB,CACjB,mBAAkBoB,UAAU,CAACT,IAAK,kCAAiC,CACrE;UACDQ,UAAU,CAAC,MAAM;YACfnB,oBAAoB,CAAC,IAAI,CAAC;UAC5B,CAAC,EAAE,IAAI,CAAC;QACV,CAAC,CAAC;MACN;IACF;EACF,CAAC;EAED,MAAM4B,YAAY,GAAId,EAAE,IAAK;IAC3B,IAAGO,MAAM,CAACC,OAAO,CAAE,mCAAkC/B,OAAO,CAACuB,EAAE,CAAC,CAACH,IAAK,EAAC,CAAC,EAAE;MACxEzB,aAAa,CACV0C,YAAY,CAACd,EAAE,CAAC,CAChBV,IAAI,CAAC,MAAM;QACVZ,UAAU,CAACD,OAAO,CAACsC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAChB,EAAE,KAAKA,EAAE,CAAC,CAAC;MAC9C,CAAC,CAAC;IACN;EACF,CAAC;EAED,MAAMiB,gBAAgB,GAAIxB,KAAK,IAAK;IAClCb,UAAU,CAACa,KAAK,CAACyB,MAAM,CAACC,KAAK,CAAC;EAChC,CAAC;EACD,MAAMC,kBAAkB,GAAI3B,KAAK,IAAK;IACpCX,YAAY,CAACW,KAAK,CAACyB,MAAM,CAACC,KAAK,CAAC;EAClC,CAAC;EACD,MAAME,kBAAkB,GAAI5B,KAAK,IAAK;IACpCT,YAAY,CAACS,KAAK,CAACyB,MAAM,CAACC,KAAK,CAAC;EAClC,CAAC;EAED,MAAMG,aAAa,GAAGvC,SAAS,CAACkB,MAAM,GAAG,CAAC,GACpCxB,OAAO,CAACsC,MAAM,CAACnB,MAAM,IAAIA,MAAM,CAACC,IAAI,CAAC0B,WAAW,EAAE,CAACC,QAAQ,CAACzC,SAAS,CAACwC,WAAW,EAAE,CAAC,CAAC,GACrF9C,OAAO;EAEb,oBACE;IAAA,wBACE;MAAA,UAAI;IAAS;MAAA;MAAA;MAAA;IAAA,QAAK,eAClB,QAAC,iBAAiB;MAAC,OAAO,EAAEQ;IAAkB;MAAA;MAAA;MAAA;IAAA,QAAG,eACjD,QAAC,mBAAmB;MAAC,OAAO,EAAEE;IAAoB;MAAA;MAAA;MAAA;IAAA,QAAG,eACrD,QAAC,MAAM;MAAC,KAAK,EAAEJ,SAAU;MAAC,QAAQ,EAAIsC;IAAmB;MAAA;MAAA;MAAA;IAAA,QAAE,eAE3D;MAAA,UAAI;IAAO;MAAA;MAAA;MAAA;IAAA,QAAK,eAChB,QAAC,UAAU;MACT,UAAU,EAAI7B,OAAQ;MACtB,SAAS,EAAIb,OAAQ;MACrB,gBAAgB,EAAEsC,gBAAiB;MACnC,WAAW,EAAEpC,SAAU;MACvB,kBAAkB,EAAEuC;IAAmB;MAAA;MAAA;MAAA;IAAA,QACvC,eACF;MAAA,UAAI;IAAO;MAAA;MAAA;MAAA;IAAA,QAAK,eAChB;MAAA,UACCE,aAAa,CAACX,GAAG,CAACf,MAAM,iBAAI,QAAC,cAAc;QAE1C,MAAM,EAAEA,MAAO;QACf,YAAY,EAAE,MAAMkB,YAAY,CAAClB,MAAM,CAACI,EAAE;MAAE,GAFvCJ,MAAM,CAACI,EAAE;QAAA;QAAA;QAAA;MAAA,QAGZ;IAAC;MAAA;MAAA;MAAA;IAAA,QACA;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAEV,CAAC;AAAA,GA5GKxB,GAAG;AAAA,KAAHA,GAAG;AA8GT,eAAeA,GAAG;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}